<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="utf-8" />
  <title>Validate and edit features using a server object extension </title>
  <style>
    table, th, td {
      border: 1px solid black;
      border-collapse: collapse;
    }
    th, td {
      padding: 5px;
    }
    th {
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h2>Validate and edit features using a server object extension</h2>

<h3>Purpose</h3>

<p>The purpose of this sample is to demonstrate how to edit features in layers exposed by a map service, via a server object extension (SOE). The EditFeatures SOE has one property called layerId, which indicates the layer chosen for editing. This sample SOE also has one subresource called layers and two operations called editFeature and addNewFeatures. The administrator that deploys this SOE and enables it on a map service can chose which layer to open for editing using the layerId property. Editing will be restricted to this specific layer only.  </p>

<h3>Usage</h3>

<h4>Using this sample</h4>

<ol>
<li>Deploy the EditFeaturesRESTSOE.soe file to the server.   </li>
<li>Enable the SOE on a map service of your choice. Ensure that the map service has at least one feature layer.   </li>
<li>Confirm that the SOE's layerId property has a value that matches a feature layer's layer id. Click Save and Restart.  </li>
<li>Open the Services Directory and access the http://<server name>:6080/arcgis/rest/services page.  </li>
<li>Click the map service on which you enabled your SOE.  </li>
<li>Scroll down and click EditFeaturesRESTSOE listed in the Supported Extensions section. If your REST SOE isn't listed here, log in to the Services Directory as an administrator and clear the REST cache. Repeat steps 5 and 6 as necessary.  </li>
<li>The EditFeaturesRESTSOE web page displays root resource details, such as name and description, along with a description of how to use the SOE, the layer id chosen for editing, and the layer schema that the SOE can accept, based on layers in the map service on which the SOE is enabled. This page also displays Child Resources and Supported Operations sections.  </li>
<li>Click the layers subresource. It displays information about all feature layers in JSON format.   </li>
<li>Click the editFeature operation. Provide the featureId and featureJSON. Click editFeature (POST). To determine the valid feature JSON for the selected layer, see the acceptable layer schema section on the EditFeaturesRESTSOE page.  </li>
<li>Navigate to the map service page in the Services Directory, select the layer enabled for editing, and execute a Query operation to verify that the feature corresponding to featureId mentioned above has indeed been modified.  </li>
<li>Navigate back to the SOE page and click the addNewFeature operation. This operation takes in feature JSON and creates a feature in the layer's feature class.  </li>
<li>Provide valid JSON and click addNewFeature (POST).  </li>
<li>Run the Query operation again on the layer to verify the addition of the new feature.  </li>
</ol>

<hr />

<h4>Licensing</h4>

<table><tr><th> Development licensing </th><th> Deployment licensing </th></tr>
<tr><td>  </td><td>  </td></tr>  
</table>

</body>
</html>